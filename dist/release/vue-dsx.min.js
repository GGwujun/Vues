/*!
 * vue-dsx v1.0.0
 * (c) 2017-2017 dsx
 * Released under the ISC License.
 * https://github.com/GGwujun/mdn#readme
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Vues=e()}(this,function(){"use strict";function t(t,e){if(t&&"object"===(void 0===t?"undefined":o(t)))return new a(t)}function e(t,e,n,i){var o=t;Object.defineProperty(o,e,{configurable:!1,enumerable:!0,get:function(){return o._data[e]},set:function(t){o._data[e]=t}})}function n(t){var e=t,n=e.$options.computed;"object"===(void 0===n?"undefined":o(n))&&Object.keys(n).forEach(function(t){Object.defineProperty(e,t,{get:"function"==typeof n[t]?n[t]:n[t].get,set:function(){}})})}function i(i){var o=i.$options.data;Object.keys(o).forEach(function(t){e(i,t)}),n(i),o?t(o,i):t(i._data={},!0)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=(function(){function t(t){this.value=t}function e(e){function n(o,r){try{var u=e[o](r),a=u.value;a instanceof t?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):i(u.done?"return":"normal",u.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}(o=o.next)?n(o.key,o.arg):r=null}var o,r;this._invoke=function(t,e){return new Promise(function(i,u){var a={key:t,arg:e,resolve:i,reject:u,next:null};r?r=r.next=a:(o=r=a,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function e(t){r(this,e),this.data=t,this.walk(t)}return u(e,[{key:"walk",value:function(t){var e=this;Object.keys(t).forEach(function(n){e.convert(n,t[n])})}},{key:"convert",value:function(t,e){this.defineReactive(this.data,t,e)}},{key:"defineReactive",value:function(e,n,i){var o=new s,r=t(i);Object.defineProperty(e,n,{enumerable:!0,configurable:!1,get:function(){return s.target&&o.depend(),i},set:function(e){e!==i&&(i=e,r=t(e),o.notify())}})}}]),e}(),c=0,s=function(){function t(){r(this,t),this.id=c++,this.subs=[]}return u(t,[{key:"addSub",value:function(t){this.subs.push(t)}},{key:"depend",value:function(){t.target.addDep(this)}},{key:"removeSub",value:function(t){var e=this.subs.indexOf(t);-1!=e&&this.subs.splice(e,1)}},{key:"notify",value:function(){this.subs.forEach(function(t){t.update()})}}]),t}();s.target=null;var f=function(){function t(e,n,i){r(this,t),this.cb=i,this.vm=e,this.expOrFn=n,this.depIds={},this.getter="function"==typeof n?n:this.parseGetter(n),this.value=this.get()}return u(t,[{key:"update",value:function(){this.run()}},{key:"run",value:function(){var t=this.get(),e=this.value;t!==e&&(this.value=t,this.cb.call(this.vm,t,e))}},{key:"addDep",value:function(t){this.depIds.hasOwnProperty(t.id)||(t.addSub(this),this.depIds[t.id]=t)}},{key:"get",value:function(){s.target=this;var t=this.getter.call(this.vm,this.vm);return s.target=null,t}},{key:"parseGetter",value:function(t){if(!/[^\w.$]/.test(t)){var e=t.split(".");return function(t){for(var n=0,i=e.length;n<i;n++){if(!t)return;t=t[e[n]]}return t}}}}]),t}(),l={textUpdater:function(t,e){t.textContent=void 0===e?"":e},htmlUpdater:function(t,e){t.innerHTML=void 0===e?"":e},classUpdater:function(t,e,n){var i=t.className,o=(i=i.replace(n,"").replace(/\s$/,""))&&String(e)?" ":"";t.className=i+o+e},modelUpdater:function(t,e,n){t.value=void 0===e?"":e}},d={text:function(t,e,n){this.bind(t,e,n,"text")},html:function(t,e,n){this.bind(t,e,n,"html")},model:function(t,e,n){this.bind(t,e,n,"model");var i=this,o=this._getVMVal(e,n);t.addEventListener("input",function(t){var r=t.target.value;o!==r&&(i._setVMVal(e,n,r),o=r)})},class:function(t,e,n){this.bind(t,e,n,"class")},bind:function(t,e,n,i){var o=l[i+"Updater"];o&&o(t,this._getVMVal(e,n)),new f(e,n,function(e,n){o&&o(t,e,n)})},eventHandler:function(t,e,n,i){var o=i.split(":")[1],r=e.$options.methods&&e.$options.methods[n];o&&r&&t.addEventListener(o,r.bind(e),!1)},_getVMVal:function(t,e){var n=t;return(e=e.split(".")).forEach(function(t){n=n[t]}),n},_setVMVal:function(t,e,n){var i=t;(e=e.split(".")).forEach(function(t,o){o<e.length-1?i=i[t]:i[t]=n})}},h=function(){function t(e,n){r(this,t),this.$vm=n,this.$el=this.isElementNode(e)?e:document.querySelector(e),this.$el&&(this.$fragment=this.node2Fragment(this.$el),this.init(),this.$el.appendChild(this.$fragment))}return u(t,[{key:"node2Fragment",value:function(t){for(var e,n=document.createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}},{key:"init",value:function(){this.compileElement(this.$fragment)}},{key:"compileElement",value:function(t){var e=t.childNodes,n=this;[].slice.call(e).forEach(function(t){var e=t.textContent,i=/\{\{(.*)\}\}/;n.isElementNode(t)?n.compile(t):n.isTextNode(t)&&i.test(e)&&n.compileText(t,RegExp.$1),t.childNodes&&t.childNodes.length&&n.compileElement(t)})}},{key:"compile",value:function(t){var e=t.attributes,n=this;[].slice.call(e).forEach(function(e){var i=e.name;if(n.isDirective(i)){var o=e.value,r=i.substring(2);n.isEventDirective(r)?d.eventHandler(t,n.$vm,o,r):d[r]&&d[r](t,n.$vm,o),t.removeAttribute(i)}})}},{key:"compileText",value:function(t,e){d.text(t,this.$vm,e)}},{key:"isDirective",value:function(t){return 0==t.indexOf("v-")}},{key:"isEventDirective",value:function(t){return 0===t.indexOf("on")}},{key:"isElementNode",value:function(t){return 1==t.nodeType}},{key:"isTextNode",value:function(t){return 3==t.nodeType}}]),t}(),v=0,p=function(){function t(e){r(this,t),this._init(e)}return u(t,[{key:"$watch",value:function(t,e,n){new f(this,t,e)}}]),t}();return function(t){Object.assign(t.prototype,{_init:function(t){var e=this;e._uid=v++,e._isMVVM=!0,e.$options=t||{},e._data=this.$options.data,i(e),this.$compile=new h(this.$options.el||document.body,this)}})}(p),p.version="0.0.1",p});